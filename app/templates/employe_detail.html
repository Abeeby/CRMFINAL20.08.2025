{% extends "base_elite.html" %}

{% block title %}Employé {{ employe.prenom }} {{ employe.nom }} - Détail{% endblock %}

{% block content %}
<div class="page-header">
	<div>
		<h1 class="page-title">{{ employe.prenom }} {{ employe.nom }}</h1>
		<p class="page-subtitle">Matricule {{ employe.matricule }} • {{ employe.departement or 'Non défini' }}</p>
	</div>
	<div class="header-actions">
		<a class="btn btn-secondary" href="{{ url_for('employes') }}">
			<i class="ri-arrow-left-line"></i>
			<span>Retour</span>
		</a>
	</div>
</div>

<div class="grid-2">
	<div class="card">
		<div class="card-header"><h2 class="card-title">Informations</h2></div>
		<div class="card-body">
			<ul class="list">
				<li><strong>Position:</strong> {{ employe.position or '-' }}</li>
				<li><strong>Email:</strong> {{ employe.email or '-' }}</li>
				<li><strong>Téléphone:</strong> {{ employe.telephone or '-' }}</li>
				<li><strong>Actif:</strong> {{ 'Oui' if employe.actif else 'Non' }}</li>
			</ul>
		</div>
	</div>
	<div class="card">
		<div class="card-header"><h2 class="card-title">Derniers pointages</h2></div>
		<div class="table-container">
			<table class="table">
				<thead>
					<tr>
						<th>Date</th>
						<th>Arrivée</th>
						<th>Départ midi</th>
						<th>Reprise</th>
						<th>Départ</th>
						<th>Heures</th>
					</tr>
				</thead>
				<tbody>
					{% for p in pointages %}
					<tr>
						<td>{{ p.date_pointage.strftime('%d/%m/%Y') }}</td>
						<td>{{ p.arrivee_matin.strftime('%H:%M') if p.arrivee_matin else '-' }}</td>
						<td>{{ p.depart_midi.strftime('%H:%M') if p.depart_midi else '-' }}</td>
						<td>{{ p.arrivee_apres_midi.strftime('%H:%M') if p.arrivee_apres_midi else '-' }}</td>
						<td>{{ p.depart_soir.strftime('%H:%M') if p.depart_soir else '-' }}</td>
						<td>{{ p.heures_travaillees or 0 }} h</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
</div>

<style>
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: var(--grid-gap); }
@media (max-width: 1024px) { .grid-2 { grid-template-columns: 1fr; } }
.list { display: grid; gap: 8px; }
</style>
{% endblock %}


